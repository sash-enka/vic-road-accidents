<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
 
  <!-- importing google fonts  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Jost&family=Lato&family=Merriweather+Sans:wght@700&family=Montserrat:wght@400;900&family=Playfair+Display&family=Source+Sans+Pro&family=Square+Peg&family=Ubuntu&display=swap" rel="stylesheet">

  <script type="text/javascript">

    var map1 = "interactive_map1.vg.json";
    vegaEmbed('#interactive_map1', map1).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var areaChart = "area_chart.vg.json";
    vegaEmbed('#area_chart', areaChart).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var accidentRegions = "pie_chart.vg.json";
    vegaEmbed('#accident_regions', accidentRegions).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    
    var topLGA = "accidents_region.vg.json";
    vegaEmbed('#topLGA', topLGA).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var top8LGA = "line_chart_LGAs.vg.json";
    vegaEmbed('#top8LGA', top8LGA).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var donutChart = "pie_chart.vg.json";
    vegaEmbed('#donutChart', donutChart).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var LGAAreas = "topLGAArea.vg.json";
    vegaEmbed('#LGAAreas', LGAAreas).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var accidentsByLGA = "accidentsByLGA.vg.json";
    vegaEmbed('#accidentsByLGA', accidentsByLGA).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var map2 = "interactive_map.vg.json";
    vegaEmbed('#interactive_map2', map2).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var vehicleMake = "vehicle_make.vg.json";
    vegaEmbed('#vehicleMake', vehicleMake).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var yearOfManufacture = "car_manuf.vg.json";
    vegaEmbed('#yearOfManufacture', yearOfManufacture).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var genderStack = "gender_stacked.vg.json";
    vegaEmbed('#genderStack', genderStack).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var genderProportion = "gender.vg.json";
    vegaEmbed('#genderProportion', genderProportion).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

  </script>


  <!-- CSS file -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@2.1.0/build/pure-min.css" integrity="sha384-yHIFVG6ClnONEA5yB5DJXfW2/KC173DIQrYoZMEtBvGzmf0PKiGyNEqe9N6BNDBH" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
  
</head>
<body>
    <h1>Victorian Road Accidents in 2019</h1>

    <h4 class="subheading">
      Lets explore 2019's Victorian road incident data. 
     </h4>
   <p class="note"> NOTE: 2019 data is explored to minimise the effect of the pandemic on general road traffic </p>
     <br>
    <h2>The different types of accidents</h2>
    <div class="pure-g">
        <div class="pure-u-1 vis map" id="interactive_map1"></div>
        <div class="pure-u-1-2">
          <p>
            The interactive map above displays the location of all Victorian road incidents in 2019. 
            The size of the circle represents the number of people involved in the incident. The larger 
            the circle, the more people were involved. The colour of the circle represents the type of 
            incident that took place. Click on an accident type via the legend to further filter the 
            visualisation. By interacting with the accident types, we are able to see differences in the 
            spread of accident types. For example, Struck Pedestrian is concentrated in metropolitan areas, 
            while Struck animal is far less common, and more widespread across rurual areas instead of within 
            the metropolitan areas. 
            <br>
            <br>
          The stacked area chart further elaborates on this by showing you the exact 
          distribution of accident types, along with a timeframe, in months. 
          As expected, Collisions with vehicles dominates, with the most number of accidents. This is followed by 
          Collision with a fixed object, and Struck Pedestrian. 
          </p>
        </div>
        <div class="pure-u-1-2 vis" id="area_chart"></div>
    </div>
    
    <br>

    <h2>Where are these accidents occuring?</h2>

    <div class="pure-g">
      <!-- bar chart - LGAs -->
      <div class="pure-u-1 vis" id="interactive_map2"></div>
      <div class="pure-u-1"> 
        <p> 
          The above interactive map allows you to filter accidents by LGAs, by choosing the desired LGA from the dropdown.
          In this interactive map, the color of each circle encodes the road geometry of the location of the incident. 
          The size of the circle represents the number of people involved in the incident. The larger 
            the circle, the more people were involved. 
        </p>
      </div>
      <!-- donut chart - regions -->
      <div class="pure-u-1-2 vis" id="donutChart"></div>
      <div class="pure-u-1-2">
        <p>
          This donut chart displays the distribution of Victorian road accidents on 
            the separate regions. It is made clear with this visualisation that the 
            North West, and South East regions have a disproportionate 
            amount of car accidents compared to the other regions. Reasons for this could be the fact that
            these areas are more populated and have well established transport infrastructure, 
            putting more people on their roads and transport network. 
        </p>
      </div>
      <div class="pure-u-1-2 vis" id="LGAAreas"></div>
      <div class="pure-u-1-2 vis" id="accidentsByLGA"></div>
  </div>

      <!-- <div class="pure-g">
        <div class="pure-u-1-2">
          <p>
            The colour densities in the above interactive map shows us that the most common
            types of accidents were collisions with other vehicles, and collisions with fixed objects. 
            The following stacked area chart further elaborates on this by showing you the exact 
            distribution of accident types, along with a timeframe, in months. 
          </p>
        </div>
        <div class="pure-u-1-2" id="area_chart"></div>
    </div> -->

    <br>
  
    <h2>The vehicles involved</h2>
      <div class="pure-g">
        <div class="pure-u-1-2 vis" id="yearOfManufacture"></div>
        <div class="pure-u-1-2">
          <p>
            This line chart explores the number of accidents that occured based on the manufactured year of the vehicles involved. 
            As you can see, there is a well defined positive slope as time moved from 1995 to around 2016. This tells us that there are
            less recorded road accidents involving vehicles manufactures in 1995, compared to the years that come after it, until 2016.

            There are less car accidents which involve cars which were manufactured past the year 2016, which can be seen in the downward 
            slope that begind at the year 2016. Perhaps this means that cars manufactured past 2016 have increased safety features which 
            lessen the likelihood of a driver getting into an accident. 
          </p>
        </div>
    </div>

    <br>
  
    <h2>The people involved</h2>
      <div class="pure-g">
        <div class="pure-u-1"> 
          <p> The interactive map above displays the location of all Victorian road incidents in 2019. 
            The size of the circle represents the number of people involved in the incident. The larger 
            the circle, the more people were involved. The colour of the circle represents the type of 
            incident that took place. Click on an accident type via the legend to further filter the 
            visualisation.

            Additionally, you are able to use the Zoom toggle to get a clearer view of the accidents, 
            as you Zoom into Melbourne city - the locality with the highest number of road accidents in 2020. 
          </p>
        </div>
        <div class="pure-u-1-2 vis" id="genderStack"></div>
        <div class="pure-u-1-2 vis" id="genderProportion"></div>
    </div>

    <br>

    <!-- <h3>LGAs with the Highest Number of Accidents</h1>
      <div class="pure-g">
        <div class="pure-u-1" id="top8LGA"></div>
        <div class="pure-u-1">
          <p>
           The above line graph depicts accidents over time for each of the top 8 LGAs which had the 
           highest number of accidents in the year. 
          </p>
        </div>
    </div>

    <br>

    <h3>Further Exploration with Interaction</h1>
      <div class="pure-u-1">
        <p>Further explore the accident that have taken place in the LGAs with the highest number of road accidents. 
          The following exploratory visualisation allows you to filter the accidents by LGAs and accident severity. 
        </p>
      </div> -->

      <h2>Conclusion</h2>
      <div class="pure-u-1"> 
        <p> The interactive map above displays the location of all Victorian road incidents in 2019. 
          The size of the circle represents the number of people involved in the incident. The larger 
          the circle, the more people were involved. The colour of the circle represents the type of 
          incident that took place. Click on an accident type via the legend to further filter the 
          visualisation.

          Additionally, you are able to use the Zoom toggle to get a clearer view of the accidents, 
          as you Zoom into Melbourne city - the locality with the highest number of road accidents in 2020. 
        </p>
      </div>
     

</body>
</html>
